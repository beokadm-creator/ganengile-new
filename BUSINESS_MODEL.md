# ê°€ëŠ”ê¸¸ì— - ì‚¬ì—…ì ëª¨ë¸ í™•ì¥

## ì‚¬ìš©ì íƒ€ì… (4ê°€ì§€)

### 1. ê¸€ëŸ¬ (Gler) - ì¼ë°˜ ê°œì¸
```typescript
{
  role: 'gler';
  userType: 'individual';
  // ê¸°ì¡´ í•„ë“œë“¤...
}
```
**íŠ¹ì§•:**
- 1íšŒì„± ë°°ì†¡ ìš”ì²­
- ê°œì¸ìš© ë¬¼í’ˆ ë°°ì†¡
- ë³´ì¦ê¸ˆ ê²°ì œ

### 2. ê¸¸ëŸ¬ (Giller) - ì§€í•˜ì²  ì´ìš©ì
```typescript
{
  role: 'giller';
  userType: 'individual';
  // ê¸°ì¡´ í•„ë“œë“¤...
}
```
**íŠ¹ì§•:**
- ì¶œí‡´ê·¼ê¸¸ ë°°ì†¡ ìˆ˜í–‰
- ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ
- í‰ì  ê´€ë¦¬

### 3. ì‚¬ì—…ì (Business Partner) - NEW
```typescript
{
  role: 'business_gler';
  userType: 'business';
  businessType: 'online_seller' | 'offline_store' | 'small_business';

  // ì‚¬ì—…ì ì •ë³´
  businessInfo: {
    businessName: string;        // ìƒí˜¸ëª…
    businessNumber: string;      // ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸
    ceoName: string;             // ëŒ€í‘œìëª…
    phone: string;               // ì‚¬ì—…ì ì—°ë½ì²˜
    email: string;
    address: {
      postalCode: string;
      address1: string;
      address2?: string;
    };
  };

  // ì •ì‚° ì •ë³´
  settlementInfo: {
    bankName: string;            // ì€í–‰ëª…
    accountNumber: string;       // ê³„ì¢Œë²ˆí˜¸
    accountHolder: string;       // ì˜ˆê¸ˆì£¼
  };

  // ì›” êµ¬ë… (ì˜µì…˜)
  subscription?: {
    plan: 'basic' | 'pro' | 'enterprise';
    monthlyFee: number;
    monthlyRequests: number;     // ì›” í¬í•¨ ê±´ìˆ˜
    overageFee: number;          // ì´ˆê³¼ ê±´ë‹¹ ìš”ê¸ˆ
    startDate: Timestamp;
    nextBillingDate: Timestamp;
  };
}
```

**íŠ¹ì§•:**
- ì •ê¸°ì  ë°°ì†¡ ìš”ì²­ (ì˜¨ë¼ì¸ ì£¼ë¬¸ ì²˜ë¦¬)
- ì›” êµ¬ë…ì œ (ê±´ìˆ˜ ë³„ ë˜ëŠ” ë¬´ì œí•œ)
- API ì—°ë™ ê°€ëŠ¥ (ì‡¼í•‘ëª° ì—°ë™)
- ìš°ì„  ë§¤ì¹­ (í”„ë¦¬ë¯¸ì—„ ì‚¬ì—…ì)

### 4. ìœ„ìƒì‚¬ì—…ì (Location Partner) - NEW
```typescript
{
  role: 'location_partner';
  userType: 'business';

  // ì‚¬ì—…ì ì •ë³´ (ë™ì¼)
  businessInfo: { ... };
  settlementInfo: { ... };

  // ìˆ˜ë ¹ ì¥ì†Œ ì •ë³´
  locationInfo: {
    name: string;                // "GS25 ì„œìš¸ì—­ì "
    type: 'convenience' | 'cafe' | 'kiosk' | 'other';
    address: { ... };
    operatingHours: {
      open: string;              // "08:00"
      close: string;             // "22:00"
      holidays?: string[];       // "[íœ´ë¬´ì¼]"
    };
    capacity: number;            // ë™ì‹œ ë³´ê´€ ê°€ëŠ¥ ìˆ˜ (ì˜ˆ: 10ê°œ)
    amenities: string[];         // ["CCTV", "ëƒ‰ì¥ê³ ", "ë³´ê´€í•¨"]
  };

  // ìˆ˜ìˆ˜ë£Œ ì„¤ì •
  feeStructure: {
    perItem: number;             // ê±´ë‹¹ ìˆ˜ìˆ˜ë£Œ (ì˜ˆ: 300ì›)
    dailyMax?: number;           // ì¼ì¼ ìµœëŒ€ ìˆ˜ìˆ˜ë£Œ
    storageTimeLimit: number;    // ë¬´ë£Œ ë³´ê´€ ì‹œê°„ (ì‹œê°„)
    overdueFee: number;          // ì´ˆê³¼ ì‹œ ì‹œê°„ë‹¹ ìš”ê¸ˆ
  };

  // ì¸ì¦ ìƒíƒœ
  verification: {
    isVerified: boolean;
    verifiedAt?: Timestamp;
    documents: string[];         // ì‚¬ì—…ìë“±ë¡ì¦, ì‹ ë¶„ì¦ ë“±
  };
}
```

**íŠ¹ì§•:**
- ìˆ˜ë ¹ ì¥ì†Œ ì œê³µ (í”½ì—… ì¡´)
- ìˆ˜ë ¹ ë³´ê´€ ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ
- ì¶”ê°€ ë°©ë¬¸ ìœ ì… (êµì°¨ íŒë§¤)
- CCTV/ë³´ì•ˆ ì‹œì„¤ í•„ìˆ˜

---

## Firebase Collections (ìˆ˜ì •)

### users (ìˆ˜ì •)
```typescript
{
  uid: string;
  email: string;
  name: string;

  // ì‚¬ìš©ì íƒ€ì… í™•ì¥
  role: 'gler' | 'giller' | 'business_gler' | 'location_partner';
  userType: 'individual' | 'business';

  // ì‚¬ì—…ìì¸ ê²½ìš° ì¶”ê°€ í•„ë“œ
  businessInfo?: { ... };       // ì‚¬ì—…ì ì •ë³´
  settlementInfo?: { ... };     // ì •ì‚° ì •ë³´
  locationInfo?: { ... };       // ìœ„ìƒì‚¬ì—…ì ì¥ì†Œ ì •ë³´

  // ê³µí†µ í•„ë“œ
  createdAt: Timestamp;
  isActive: boolean;
}
```

### requests (ìˆ˜ì •)
```typescript
{
  requestId: string;
  cityCode: string;

  // ìš”ì²­ì íƒ€ì…
  requesterId: string;
  requesterType: 'individual' | 'business';

  // ì‚¬ì—…ì ìš”ì²­ì¸ ê²½ìš°
  businessRequestId?: string;   // ì‚¬ì—…ì ì£¼ë¬¸ë²ˆí˜¸
  businessMetadata?: {          // ì‚¬ì—…ì ë©”íƒ€ë°ì´í„°
    storeName: string;
    orderNumber: string;
    itemSKU?: string;
    customerPhone?: string;     // ìµœì¢… ìˆ˜ë ¹ì (ì‚¬ì—…ì ê³ ê°)
  };

  // ìˆ˜ë ¹ì ì •ë³´
  recipient: {
    name: string;
    phone: string;
    // ìœ„ìƒì‚¬ì—…ìë¥¼ í†µí•´ ìˆ˜ë ¹í•˜ëŠ” ê²½ìš°
    isLocationPartner: boolean;
    locationPartnerId?: string; // ìœ„ìƒì‚¬ì—…ì ID
    locationName?: string;      // "GS25 ì„œìš¸ì—­ì "
    pickupLocation: string;     // "3ë²ˆ ì¶œêµ¬ ì•" ë˜ëŠ” "GS25 ì¹´ìš´í„°"
    notes?: string;
  };

  // ... ê¸°ì¡´ í•„ë“œ
}
```

### location_partners (NEW) - ìœ„ìƒì‚¬ì—…ì ë§ˆìŠ¤í„°
```typescript
{
  partnerId: string;
  userId: string;              // users.uid
  businessInfo: { ... };
  locationInfo: {
    name: string;
    type: 'convenience' | 'cafe' | 'kiosk' | 'other';
    address: { ... };
    operatingHours: { ... };
    capacity: number;
    amenities: string[];
    nearestStationId: string;   // ê°€ì¥ ê°€ê¹Œìš´ ì§€í•˜ì² ì—­
    walkingMinutes: number;     // ë„ë³´ ì†Œìš” ì‹œê°„
  };
  feeStructure: { ... };
  verification: { ... };
  rating: number;               // í‰ê·  í‰ì  (1-5)
  totalPickups: number;         // ì´ ìˆ˜ë ¹ ê±´ìˆ˜
  isActive: boolean;
  createdAt: Timestamp;
}
```

### business_subscriptions (NEW) - ì‚¬ì—…ì êµ¬ë…
```typescript
{
  subscriptionId: string;
  businessUserId: string;       // users.uid
  plan: 'basic' | 'pro' | 'enterprise';
  status: 'active' | 'paused' | 'cancelled';

  billingInfo: {
    monthlyFee: number;
    nextBillingDate: Timestamp;
    paymentMethod: 'card' | 'bank_transfer';
    lastPaymentAt?: Timestamp;
  };

  usage: {
    monthlyRequests: number;    // ì›” í¬í•¨ ê±´ìˆ˜
    usedRequests: number;       // ì´ë²ˆ ë‹¬ ì‚¬ìš© ê±´ìˆ˜
    overageRequests: number;    // ì´ˆê³¼ ê±´ìˆ˜
    currentMonth: string;       // "2026-02"
  };

  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### 1. ì‚¬ì—…ì (Business Gler) í”Œë¡œìš°

#### ê°€ì…
```
ì‚¬ì—…ì ê°€ì… ì‹ ì²­
  â†“
ì‚¬ì—…ìë“±ë¡ì¦, ì‹ ë¶„ì¦ ì—…ë¡œë“œ
  â†“
ê´€ë¦¬ì ìŠ¹ì¸ (ìë™ ë˜ëŠ” ìˆ˜ë™)
  â†“
êµ¬ë… í”Œëœ ì„ íƒ
  â†“
API í‚¤ ë°œê¸‰ (ì‡¼í•‘ëª° ì—°ë™ìš©)
```

#### ë°°ì†¡ ìš”ì²­
```
[ì‡¼í•‘ëª° ì‹œìŠ¤í…œ]
  ì£¼ë¬¸ â†’ ìë™ìœ¼ë¡œ ë°°ì†¡ ìš”ì²­ ìƒì„±
  API: POST /api/v1/business/requests
  {
    "businessApiKey": "xxx",
    "orderNumber": "ORD-12345",
    "pickupStation": "ì„œìš¸ì—­",
    "deliveryStation": "ê°•ë‚¨ì—­",
    "recipient": {
      "name": "í™ê¸¸ë™",
      "phone": "010-1234-5678"
    }
  }
  â†“
[ê°€ëŠ”ê¸¸ì— ì‹œìŠ¤í…œ]
  - ì‚¬ì—…ì í™•ì¸ (API í‚¤)
  - êµ¬ë… ê±´ìˆ˜ í™•ì¸
  - ë§¤ì¹­ ì‹œì‘
  - ì‚¬ì—…ìì—ê²Œ ì•Œë¦¼
  â†“
[ê¸¸ëŸ¬ ë§¤ì¹­]
  - ìš°ì„  ë§¤ì¹­ (í”„ë¦¬ë¯¸ì—„ ì‚¬ì—…ì)
  - ì‹¤ì‹œê°„ ì¶”ì 
  â†“
[ì™„ë£Œ]
  - ì‚¬ì—…ìì—ê²Œ ì™„ë£Œ ì•Œë¦¼
  - ì›”ê°„ ë¦¬í¬íŠ¸ ì œê³µ
```

#### ìˆ˜ìˆ˜ë£Œ êµ¬ì¡°
```
Basic: ì›” 99,000ì›
  - ì›” 50ê±´ í¬í•¨
  - ì´ˆê³¼ ê±´ë‹¹ 2,000ì›

Pro: ì›” 299,000ì›
  - ì›” 200ê±´ í¬í•¨
  - ì´ˆê³¼ ê±´ë‹¹ 1,500ì›
  - ìš°ì„  ë§¤ì¹­

Enterprise: ì›” 999,000ì›
  - ë¬´ì œí•œ ìš”ì²­
  - ì „ë‹´ ë§¤ë‹ˆì €
  - API ìš°ì„  ì§€ì›
```

### 2. ìœ„ìƒì‚¬ì—…ì (Location Partner) í”Œë¡œìš°

#### ê°€ì…
```
ìœ„ìƒì‚¬ì—…ì ê°€ì… ì‹ ì²­
  â†“
ì‚¬ì—…ìë“±ë¡ì¦, ê°€ê²Œ ì‚¬ì§„ ì—…ë¡œë“œ
  â†“
ê´€ë¦¬ì ìŠ¹ì¸ (ë³´ì•ˆ, ìœ„ì¹˜ í™•ì¸)
  â†“
ìˆ˜ìˆ˜ë£Œ ì„¤ì •
  â†“
ì•±ì— ë…¸ì¶œ
```

#### ìˆ˜ë ¹ í”Œë¡œìš°
```
[ê¸€ëŸ¬] ë°°ì†¡ ìš”ì²­ ìƒì„±
  - ìˆ˜ë ¹ ì¥ì†Œ: "GS25 ì„œìš¸ì—­ì "
  â†“
[ì‹œìŠ¤í…œ] ìœ„ìƒì‚¬ì—…ì ë§¤ì¹­
  - ìš©ëŸ‰ í™•ì¸ (í˜„ì¬ ë³´ê´€ ìˆ˜ < ìµœëŒ€ ë³´ê´€ ìˆ˜)
  - ì˜ì—…ì‹œê°„ í™•ì¸
  â†“
[ë§¤ì¹­ ì™„ë£Œ]
  - ê¸€ëŸ¬ì—ê²Œ ì•Œë¦¼
  - ìœ„ìƒì‚¬ì—…ìì—ê²Œ ì•Œë¦¼
  â†“
[ê¸¸ëŸ¬] ë„ì°©
  - ìœ„ìƒì‚¬ì—…ìì—ê²Œ ë¬¼ê±´ ì „ë‹¬
  - PIN ë˜ëŠ” ì„œëª…ìœ¼ë¡œ ìˆ˜ë ¹ í™•ì¸
  â†“
[ìœ„ìƒì‚¬ì—…ì] ë³´ê´€
  - CCTV ì´¬ì˜ (ë³´ì•ˆ)
  - ëƒ‰ì¥/ëƒ‰ë™ ë³´ê´€ (í•„ìš”ì‹œ)
  â†“
[ìµœì¢… ìˆ˜ë ¹ì] ë°©ë¬¸
  - ìœ„ìƒì‚¬ì—…ìì—ì„œ ìˆ˜ë ¹
  - ìˆ˜ë ¹ í™•ì¸ (ì•± ë˜ëŠ” ì„œëª…)
  â†“
[ì™„ë£Œ]
  - ìœ„ìƒì‚¬ì—…ìì—ê²Œ ìˆ˜ìˆ˜ë£Œ ì§€ê¸‰ (ê±´ë‹¹ 300ì›)
```

#### ìˆ˜ìˆ˜ë£Œ ìˆ˜ìµ
```
í¸ì˜ì  (GS25, CU, ë“±)
- ìˆ˜ìˆ˜ë£Œ: ê±´ë‹¹ 300ì›
- ì¼ì¼ ìµœëŒ€: 50ê±´ Ã— 300ì› = 15,000ì›
- ì›” ì¶”ì •: 50ê±´ Ã— 30ì¼ Ã— 300ì› = 450,000ì›

ì—­ë§¤ì 
- ìˆ˜ìˆ˜ë£Œ: ê±´ë‹¹ 200ì›
- ì¼ì¼ ìµœëŒ€: 100ê±´ Ã— 200ì› = 20,000ì›
- ì›” ì¶”ì •: 100ê±´ Ã— 30ì¼ Ã— 200ì› = 600,000ì›

ì¹´í˜ (ìˆ˜í•˜ë¬¼ ë³´ê´€í˜•)
- ìˆ˜ìˆ˜ë£Œ: ê±´ë‹¹ 500ì›
- ì¼ì¼ ìµœëŒ€: 30ê±´ Ã— 500ì› = 15,000ì›
- ì›” ì¶”ì •: 30ê±´ Ã— 30ì¼ Ã— 500ì› = 450,000ì›
```

---

## UI í™”ë©´ (ì¶”ê°€)

### 1. BusinessSignUpScreen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‚¬ì—…ì ê°€ì…                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‚¬ì—…ì ìœ í˜•                  â”‚
â”‚ â—‹ ì˜¨ë¼ì¸ íŒë§¤ì              â”‚
â”‚ â—‹ ì˜¤í”„ë¼ì¸ ìƒì               â”‚
â”‚ â—‹ ì†Œìƒê³µì¸                  â”‚
â”‚                              â”‚
â”‚ ìƒí˜¸ëª…                       â”‚
â”‚ [          ]                 â”‚
â”‚                              â”‚
â”‚ ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸                â”‚
â”‚ [          ]                 â”‚
â”‚                              â”‚
â”‚ ì‚¬ì—…ìë“±ë¡ì¦ ì—…ë¡œë“œ            â”‚
â”‚ [íŒŒì¼ ì„ íƒ]                  â”‚
â”‚                              â”‚
â”‚ êµ¬ë… í”Œëœ ì„ íƒ                â”‚
â”‚ â—‹ Basic (99,000ì›/ì›”)        â”‚
â”‚ â—‹ Pro (299,000ì›/ì›”)         â”‚
â”‚ â—‹ Enterprise (ë¬¸ì˜)          â”‚
â”‚                              â”‚
â”‚ [ê°€ì… ì‹ ì²­]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. LocationPartnerSignUpScreen
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìœ„ìƒì‚¬ì—…ì ê°€ì…               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìƒí˜¸ëª…                       â”‚
â”‚ [GS25 ì„œìš¸ì—­ì ]              â”‚
â”‚                              â”‚
â”‚ ì—…ì¢…                         â”‚
â”‚ â—‹ í¸ì˜ì   â—‹ ì¹´í˜  â—‹ ê¸°íƒ€     â”‚
â”‚                              â”‚
â”‚ ì£¼ì†Œ                         â”‚
â”‚ [ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ ...]         â”‚
â”‚                              â”‚
â”‚ ê°€ì¥ ê°€ê¹Œìš´ ì§€í•˜ì² ì—­           â”‚
â”‚ [ì„œìš¸ì—­ (1í˜¸ì„ )]             â”‚
â”‚                              â”‚
â”‚ ì˜ì—…ì‹œê°„                     â”‚
â”‚ [08:00 - 22:00]              â”‚
â”‚                              â”‚
â”‚ ë³´ê´€ ê°€ëŠ¥ ìˆ˜ëŸ‰                â”‚
â”‚ [10] ê°œ                     â”‚
â”‚                              â”‚
â”‚ ìˆ˜ìˆ˜ë£Œ ì„¤ì •                  â”‚
â”‚ [300] ì› / ê±´               â”‚
â”‚                              â”‚
â”‚ CCTV ì„¤ì¹˜ ì—¬ë¶€                â”‚
â”‚ â—‹ ì˜ˆ  â—‹ ì•„ë‹ˆì˜¤               â”‚
â”‚                              â”‚
â”‚ [ê°€ì… ì‹ ì²­]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. LocationPickerScreen (ìˆ˜ë ¹ ì¥ì†Œ ì„ íƒ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìˆ˜ë ¹ ì¥ì†Œ ì„ íƒ                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” [ì—­ëª… ê²€ìƒ‰]               â”‚
â”‚                              â”‚
â”‚ ìœ„ìƒì‚¬ì—…ì                   â”‚
â”‚                              â”‚
â”‚ â—‹ ì§ì ‘ ì…ë ¥                  â”‚
â”‚                              â”‚â”‚
â”‚ â—‹ GS25 ì„œìš¸ì—­ì               â”‚
â”‚    ë„ë³´ 3ë¶„ | ë³´ê´€ ê°€ëŠ¥       â”‚
â”‚                              â”‚
â”‚ â—‹ CU ê°•ë‚¨ì—­ì                 â”‚
â”‚    ë„ë³´ 2ë¶„ | ëƒ‰ì¥ ë³´ê´€       â”‚
â”‚                              â”‚
â”‚ â—‹ ì´ë””ì•¼ ì—­ì‚¼ì               â”‚
â”‚    ë„ë³´ 5ë¶„ | 24ì‹œê°„          â”‚
â”‚                              â”‚
â”‚ â—‹ ì—­ë§¤ì  ì„œìš¸ì—­              â”‚
â”‚    ì—­ ë‚´ | ìˆ˜ìˆ˜ë£Œ ë¬´ë£Œ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. BusinessDashboard (ì‚¬ì—…ì ëŒ€ì‹œë³´ë“œ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì‚¬ì—…ì ëŒ€ì‹œë³´ë“œ               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì•ˆë…•í•˜ì„¸ìš”, XXX ë‹˜           â”‚
â”‚                              â”‚
â”‚ ì´ë²ˆ ë‹¬ ì‚¬ìš©ëŸ‰                â”‚
â”‚ 45 / 50 ê±´ (Basic í”Œëœ)      â”‚
â”‚                              â”‚
â”‚ ì§„í–‰ ì¤‘ì¸ ë°°ì†¡                â”‚
â”‚ â€¢ ORD-12345: ì„œìš¸ì—­â†’ê°•ë‚¨ì—­    â”‚
â”‚   ê¸¸ëŸ¬: ê¹€ê¸¸ëŸ¬ | ë°°ì†¡ ì¤‘      â”‚
â”‚                              â”‚
â”‚ [ìƒˆ ë°°ì†¡ ìš”ì²­]                â”‚
â”‚ [ì£¼ë¬¸ ë‚´ì—­]                  â”‚
â”‚ [ì›”ê°„ ë¦¬í¬íŠ¸]                â”‚
â”‚ [API ë¬¸ì„œ]                   â”‚
â”‚ [ì„¤ì •]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë³´ì•ˆ ê·œì¹™ (Firestore)

### ì‚¬ì—…ì ë°ì´í„° ë³´í˜¸
```typescript
// ì‚¬ì—…ì ì •ë³´ëŠ” ë³¸ì¸ê³¼ ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥
match /users/{userId} {
  allow read: if request.auth.uid == userId
               || hasRole('admin');
  allow write: if request.auth.uid == userId
                || hasRole('admin');
}

// ìœ„ìƒì‚¬ì—…ì ë§ˆìŠ¤í„°ëŠ” ëˆ„êµ¬ë‚˜ ì¡°íšŒ ê°€ëŠ¥ (ë…¸ì¶œ ëª©ì )
match /location_partners/{partnerId} {
  allow read: if true;
  allow write: if request.auth.uid == resource.data.userId
                || hasRole('admin');
}

// ì‚¬ì—…ì êµ¬ë… ì •ë³´ëŠ” ë³¸ì¸ë§Œ ì ‘ê·¼
match /business_subscriptions/{subscriptionId} {
  allow read: if request.auth.uid == resource.data.businessUserId;
  allow write: if hasRole('admin');
}
```

---

## êµ¬í˜„ ìˆœì„œ (ìˆ˜ì •)

### Phase 1: ê¸°ë³¸ êµ¬ì¡°
- [ ] ë„¤ë¹„ê²Œì´ì…˜
- [ ] Auth (ê°œì¸)
- [ ] ê¸°ë³¸ í™”ë©´

### Phase 2: ì‚¬ì—…ì ê¸°ëŠ¥ (NEW)
- [ ] ì‚¬ì—…ì ê°€ì…/ìŠ¹ì¸
- [ ] êµ¬ë… ê²°ì œ ì—°ë™
- [ ] API ê°œë°œ (ì‚¬ì—…ì ì „ìš©)

### Phase 3: ìœ„ìƒì‚¬ì—…ì (NEW)
- [ ] ìœ„ìƒì‚¬ì—…ì ê°€ì…/ìŠ¹ì¸
- [ ] ìˆ˜ë ¹ ì¥ì†Œ ì„ íƒ UI
- [ ] ìˆ˜ë ¹ í”Œë¡œìš° ê°œë°œ

### Phase 4: í•µì‹¬ ê¸°ëŠ¥
- [ ] ë°°ì†¡ ìš”ì²­ (ì‚¬ì—…ì + ê°œì¸)
- [ ] ë§¤ì¹­ (ìœ„ìƒì‚¬ì—…ì í¬í•¨)
- [ ] ì‹¤ì‹œê°„ ì¶”ì 

### Phase 5: ê²°ì œ
- [ ] Toss Payments (ê°œì¸ + ì‚¬ì—…ì)
- [ ] ë³´ì¦ê¸ˆ
- [ ] ìˆ˜ìˆ˜ë£Œ ì •ì‚°

---

_ê¸°íšì¼: 2026ë…„ 2ì›” 4ì¼_
_ì¶”ê°€: ì‚¬ì—…ì/ìœ„ìƒì‚¬ì—…ì ëª¨ë¸_
_ë¹„ì¦ˆë‹ˆìŠ¤ í™•ì¥: B2B + í”½ì—… í¬ì¸íŠ¸_
